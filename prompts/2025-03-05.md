Let's make some changes to the labeler.py script. First, I would like to pass the image directory and the CSV file as arguments to the script. For example:
```
python labeler.py -img /path/to/image/directory -csv /path/to/csv/file
```

I would like `process_labels.py` to further split the images and labels according to RC/DRONE model. The resulting CSV files will be named:
* labels_DAL_rc_t40_t50.csv: RC and (T40 or T50)
* labels_DAL_rc_20_30.csv: RC and (T20 or T30)
* labels_DAL_rc_other.csv: RC and other 
* labels_DAL_drone_t40_t50.csv: DRONE and (T40 or T50)
* labels_DAL_drone_20_30.csv: DRONE and (T20 or T30)
* labels_DAL_drone_other.csv: DRONE and other
* labels_DAL_empty.csv: Empty

I made a couple of typos in my prompt. Please rename labels_DAL_rc_20_30.csv to labels_DAL_rc_t20_t30.csv. Similar with labels_DAL_drone_20_30.csv to labels_DAL_drone_t20_t30.csv.

In line 110 you are proposing we add
labels = [label.strip() for label in row[2:] if label]
What does this do?

In addition to the information printed to the console, I would like to print the same information to a file. You can call it process_labels.log.

Regarding your solutions:
1. Re-writes the entire CSV file, losing track of changes.
2. Did not work.
3. Re-writes the entire CSV file, losing track of changes.

We have already tried both of your solutions, your going around in circles. Anyway, I am getting bored of this. What would happen if I just leave those stupid carriage returns in the CSV file? I am working this project only in Ubuntu Linux (which is why I can't explain why the Windows line endings are showing up). Would it be a problem?

Let's try one last solution. Could you attempt to write a script that will read the CSV file, check for carriage returns, and then replace them with a proper Unix-style newline, but only if they are not already Unix-style?

Add arguments to the script to allow me to only run the script for a specific CSV file.

I ran python dm-scripts/fix_csv_line_endings.py labels/labels_DAL_empty.csv. It re-wrote the entire CSV file. I don't want it to do that. I only want it to fix the line endings with `^M` carriage returns.

For verification, make the script print the lines that have changed.

Now, I have copied `labeler.py` to `labeler-phase2.py` to start a new phase, focusing on images with the labels RC and (T40 or T50). The new phase will have the following changes:
* It will require a CSV file as an argument, and add labels to the existing CSV file. If no CSV filename is provided, or if a filename is provided but it does not exist, the script will exit with an error message.
* Delete labels MG1, T20, T30 and T60 from the interface, but not the CSV file.
* Add labels and buttons: SPRAY, PROP, FLIGHT, OTHER
* Place SPRAY where MG1 was, PROP where T20 was, FLIGHT where T30 was, and OTHER where T60 was.
* Leave the rotation buttons unchanged.

Good job friend, it works. Now, let's make some changes.
* Delete label CRASHED from the interface, but not the CSV file.
* Add label and button: BATT
* Move button OTHER to be where CRASHED was.
* Place BATT where OTHER was.
* New button/label logic:
    * Group A: RC or DRONE
    * Group B: T40 or T50
    * Group C: SPRAY, PROP, FLIGHT, BATT, OTHER
    * Group C is only available if group A is RC.
    * The user may assign any number of labels from group C to an image, i.e., they are not mutually exclusive.

Cool, good edits. Finally, make it so that when the script is initialized it defaults to the first image in the CSV file. Also, before starting the script, check if the CSV file matches the images in the image directory. If not, print an error message and exit.

A few issues:
* I would like the script to modify the CSV in place. From running git diff and checking the CSV file, I see that all changes get written to the end of the file.
* As you can see in the CSV file, the case where both labels SPRAY and PROP is not properly written to the CSV. For instance, the script wrote
2023-06-01_12-59-20_i0.jpg,0,RC,T40,"SPRAY,PROP",
instead of
2023-06-01_12-59-20_i0.jpg,0,RC,T40,SPRAY,PROP,
* Git diff still shows tons of `^M` carriage returns, one for each line that has changed.

Something is very wrong. Now, when I try to add labels SPRAY, PROP, FLIGHT, BATT, OTHER to an image, the GUI throws this warning: `These labels can only be selected when RC is selected`. But all the images already have RC selected, because they all have the label RC.

Again, same problems I described before. 
* You are re-writing the entire CSV file, losing track of changes.
* Again with the `^M` carriage returns.

Problems persist.
* 2023-05-12_08-57-23_i0.jpg,0,RC,T40,"SPRAY,PROP" instead of 2023-05-12_08-57-23_i0.jpg,0,RC,T40,SPRAY,PROP
* Running git diff shows the entire CSV file being re-written, losing track of changes.
* I restarted the computer and not git diff now does not show any `^M` carriage returns. This is weird. But whatever.

* Key bindings stopped working.
* AGAIN THE SAME THING. Running git diff shows the entire CSV file being re-written, losing track of changes. HOW HARD IS THIS TO FIX?

It seems like the reason the entire CSV file is being re-written is because the script is adding an extra comma to the end of each line even when the corresponding image label does not change.

The issue persists.
Example: 2023-05-16_21-23-15_i0.jpg,0,RC,T40, -> 2023-05-16_21-23-15_i0.jpg,0,RC,T40,, (notice the extra comma)
